<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Tue Jan 07 13:42:44 CST 2014 -->
<title>Fmt (FmtProtocol APIs)</title>
<meta name="date" content="2014-01-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Fmt (FmtProtocol APIs)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../com/tianxunnet/fmt/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../com/tianxunnet/fmt/FmtParser.html" title="com.tianxunnet.fmt中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tianxunnet/fmt/Fmt.html" target="_top">框架</a></li>
<li><a href="Fmt.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tianxunnet.fmt</div>
<h2 title="类 Fmt" class="title">类 Fmt</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.tianxunnet.fmt.Fmt</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Fmt</span>
extends java.lang.Object</pre>
<div class="block"><p>类 Fmt 用于描述一个 Fmt 对象，其中可以存储整数、小数、文本，也可以存储Fmt对象或Fmt数组。
 <p>Fmt对象是本网络协议最核心的组成部分，它是协议数据发送之前和接受之后，用于描述被传输数据的内容。
 Fmt对象其序列化（<a href="../../../com/tianxunnet/fmt/Fmt.html#packet(int, int)"><code>packet(int, int)</code></a>）后的二进制数据流，直接用于网络发送；
 通过网络接收到二进制数据流，直接用于解析为Fmt对象（<a href="../../../com/tianxunnet/fmt/FmtParser.html#pushData(byte[], com.tianxunnet.fmt.OnFmtParsed)"><code>FmtParser.pushData(byte[], OnFmtParsed)</code></a>）。
 <p>
 <p>Fmt对象的类型：一个Fmt对象只能存储一种类型的值，其类型可以是整数、小数、文本等基础类型，也
 可以是数组、对象等复合类型。我们用一个 int 值表示其类型，取值范围限于 FmtType.PDT_* 之一。
 Fmt.getType()返回该Fmt对象的类型，是一个int值，如上所述。对于不同类型的Fmt对象，我们通常
 称之为“整数类型的Fmt或IntFmt”、“数组类型的Fmt或ArrayFmt”、“对象类型的Fmt或ObjectFmt”。
 
 <p>Fmt对象的值：类型不同，读取值的方法也不同。 <a href="../../../com/tianxunnet/fmt/Fmt.html#getType()"><code>getType()</code></a>
 如果类型是整数（即Fmt.getType() == FmtType.PDT_INT），Fmt.getInt()返回其中的整数值；
 如果类型是小数（即Fmt.getType() == FmtType.PDT_Double），Fmt.getDouble()返回其中的小数值；
 其他基本类型也以此类推，至于数组或对象类型的Fmt，参见下文描述。
 特别的，如果类型是二进制数据流（即Fmt.getType() == FmtType.PDT_STRING），Fmt.getBinary()
 返回其中的二进制数据流（byte[]），而文本也被视为二进制流的特殊形式，即此时 Fmt.getString() 返回文本值；
 
 <p>Fmt对象的创建：调用类静态方法 Fmt.newXxxFmt 系列方法分别创建不同类型的Fmt对象，如 Fmt.newObjectFmt() 等。
 
 <p>Fmt对象的销毁：调用 fmt.decRef() 减小引用计数，必要时它会自动销毁。
 
 <p>数组类型的Fmt对象：创建方法：Fmt.newArrayFmt()；添加数组成员：arrayAppend(fmt)；
 删除数组成员：arrayRemove(index)；取指定索引处的数组成员值：arrarAt(index)；取数组成员数：arrayLength()。
 
 <p>对象类型的Fmt对象：创建方法：Fmt.newObjectFmt()；添加命名成员：addField(name,fmt), addIntField(name,i), ...；
 删除对象成员：delField(name)；取对象成员值：getField(name)；取对象成员数：getFieldCount()。</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addBinaryField(java.lang.String, byte[])">addBinaryField</a></strong>(java.lang.String&nbsp;name,
              byte[]&nbsp;value)</code>
<div class="block">添加二进制数据流类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addByteField(java.lang.String, byte)">addByteField</a></strong>(java.lang.String&nbsp;name,
            byte&nbsp;b)</code>
<div class="block">添加byte类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addDatetimeField(java.lang.String, long)">addDatetimeField</a></strong>(java.lang.String&nbsp;name,
                long&nbsp;millis)</code>
<div class="block">添加日期时间类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addDoubleField(java.lang.String, double)">addDoubleField</a></strong>(java.lang.String&nbsp;name,
              double&nbsp;value)</code>
<div class="block">添加double类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addField(java.lang.String, com.tianxunnet.fmt.Fmt)">addField</a></strong>(java.lang.String&nbsp;name,
        <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;field)</code>
<div class="block">为“对象类型的Fmt对象”添加命名成员。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addIntField(java.lang.String, int)">addIntField</a></strong>(java.lang.String&nbsp;name,
           int&nbsp;value)</code>
<div class="block">添加int类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addLongField(java.lang.String, long)">addLongField</a></strong>(java.lang.String&nbsp;name,
            long&nbsp;value)</code>
<div class="block">添加long类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addShortField(java.lang.String, short)">addShortField</a></strong>(java.lang.String&nbsp;name,
             short&nbsp;value)</code>
<div class="block">添加short类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#addStringField(java.lang.String, java.lang.String)">addStringField</a></strong>(java.lang.String&nbsp;name,
              java.lang.String&nbsp;value)</code>
<div class="block">添加文本类型的对象成员，参见 addField()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#arrayAppend(com.tianxunnet.fmt.Fmt)">arrayAppend</a></strong>(<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;element)</code>
<div class="block">向“数组类型的Fmt对象”的末尾添加一个成员。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#arrayAt(int)">arrayAt</a></strong>(int&nbsp;index)</code>
<div class="block">取“数组类型的Fmt对象”指定索引处的一个成员的值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#arrayLength()">arrayLength</a></strong>()</code>
<div class="block">取“数组类型的Fmt对象”内所有数组成员的个数。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#arrayRemove(int)">arrayRemove</a></strong>(int&nbsp;index)</code>
<div class="block">删除“数组类型的Fmt对象”指定索引处的一个成员。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#decRef()">decRef</a></strong>()</code>
<div class="block">减小此 Fmt 对象的引用计数。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#delField(java.lang.String)">delField</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">删除“对象类型的Fmt对象”指定名称的成员。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getBinary()">getBinary</a></strong>()</code>
<div class="block">返回“类型为二进制数据流的Fmt对象”内存储的byte[]值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getBinaryLength()">getBinaryLength</a></strong>()</code>
<div class="block">返回“类型为二进制数据流的Fmt对象”内存储的数据长度（字节数）。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getByte()">getByte</a></strong>()</code>
<div class="block">返回“类型为byte的Fmt对象”内存储的byte值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getDatetime()">getDatetime</a></strong>()</code>
<div class="block">返回“类型为日期时间的Fmt对象”内存储的日期时间值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getDouble()">getDouble</a></strong>()</code>
<div class="block">返回“类型为double的Fmt对象”内存储的double值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getField(java.lang.String)">getField</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">取“对象类型的Fmt对象”指定名称的成员值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getFieldCount()">getFieldCount</a></strong>()</code>
<div class="block">取“对象类型的Fmt对象”所有成员的个数。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getFloat()">getFloat</a></strong>()</code>
<div class="block">返回“类型为double的Fmt对象”内存储的float值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getInt()">getInt</a></strong>()</code>
<div class="block">返回“类型为int的Fmt对象”内存储的int值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getLong()">getLong</a></strong>()</code>
<div class="block">返回“类型为long的Fmt对象”内存储的long值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getShort()">getShort</a></strong>()</code>
<div class="block">返回“类型为short的Fmt对象”内存储的short值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getString()">getString</a></strong>()</code>
<div class="block">返回“类型为文本的Fmt对象”内存储的String值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#getType()">getType</a></strong>()</code>
<div class="block">返回一个 int 值用于指定当前 Fmt 对象的类型，返回值是  FmtType.PDT_xxx 其中之一， <a href="../../../com/tianxunnet/fmt/FmtType.html" title="com.tianxunnet.fmt中的类"><code>FmtType</code></a>。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#incRef()">incRef</a></strong>()</code>
<div class="block">增加此 Fmt 对象的引用计数，并返回该对象自身。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newArrayFmt()">newArrayFmt</a></strong>()</code>
<div class="block">创建一个数组类型的Fmt对象。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newBinaryFmt(byte[])">newBinaryFmt</a></strong>(byte[]&nbsp;data)</code>
<div class="block">创建一个二进制数据流类型的Fmt对象，并存入一个byte[]值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newByteFmt(byte)">newByteFmt</a></strong>(byte&nbsp;b)</code>
<div class="block">创建一个byte类型的Fmt对象，并存入一个byte值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newDatetimeFmt(long)">newDatetimeFmt</a></strong>(long&nbsp;millis)</code>
<div class="block">创建一个日期时间类型的Fmt对象，并存入一个日期时间值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newDoubleFmt(double)">newDoubleFmt</a></strong>(double&nbsp;d)</code>
<div class="block">创建一个double类型的Fmt对象，并存入一个double值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newFloatFmt(float)">newFloatFmt</a></strong>(float&nbsp;f)</code>
<div class="block">创建一个float类型的Fmt对象，并存入一个float值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newIntFmt(int)">newIntFmt</a></strong>(int&nbsp;i)</code>
<div class="block">创建一个int类型的Fmt对象，并存入一个int值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newLongFmt(long)">newLongFmt</a></strong>(long&nbsp;l)</code>
<div class="block">创建一个long类型的Fmt对象，并存入一个long值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newObjectFmt()">newObjectFmt</a></strong>()</code>
<div class="block">创建一个对象类型的Fmt对象。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newShortFmt(short)">newShortFmt</a></strong>(short&nbsp;s)</code>
<div class="block">创建一个short类型的Fmt对象，并存入一个short值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#newStringFmt(java.lang.String)">newStringFmt</a></strong>(java.lang.String&nbsp;str)</code>
<div class="block">创建一个文本类型的Fmt对象，并存入一个String值。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#packet(int, int)">packet</a></strong>(int&nbsp;cmd,
      int&nbsp;userid)</code>
<div class="block">把此 Fmt 对象，和协议编号cmd一起，打包为一段二进制数据流，用于网络传输（通过Socket）。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#quickParse(byte[])">quickParse</a></strong>(byte[]&nbsp;data)</code>
<div class="block">快速解析 Fmt 对象</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#quickSerialize()">quickSerialize</a></strong>()</code>
<div class="block">快速序列化 Fmt 对象</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/tianxunnet/fmt/Fmt.html#serverPacket(int)">serverPacket</a></strong>(int&nbsp;cmd)</code>
<div class="block">功能类似于 packet()，但此方法是针对服务器的版本，即“调用方充当服务器身份”的情况。</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="newObjectFmt()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newObjectFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newObjectFmt()</pre>
<div class="block">创建一个对象类型的Fmt对象。此后可通过 addField()等方法添加对象成员。</div>
</li>
</ul>
<a name="newArrayFmt()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newArrayFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newArrayFmt()</pre>
<div class="block">创建一个数组类型的Fmt对象。此后可通过 arrayAppend()方法添加数组成员。</div>
</li>
</ul>
<a name="newByteFmt(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newByteFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newByteFmt(byte&nbsp;b)</pre>
<div class="block">创建一个byte类型的Fmt对象，并存入一个byte值。此后可通过 getByte()方法读取存储的值</div>
</li>
</ul>
<a name="newShortFmt(short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newShortFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newShortFmt(short&nbsp;s)</pre>
<div class="block">创建一个short类型的Fmt对象，并存入一个short值。此后可通过 getShort()方法读取存储的值</div>
</li>
</ul>
<a name="newIntFmt(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIntFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newIntFmt(int&nbsp;i)</pre>
<div class="block">创建一个int类型的Fmt对象，并存入一个int值。此后可通过 getInt()方法读取存储的值</div>
</li>
</ul>
<a name="newLongFmt(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLongFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newLongFmt(long&nbsp;l)</pre>
<div class="block">创建一个long类型的Fmt对象，并存入一个long值。此后可通过 getLong()方法读取存储的值</div>
</li>
</ul>
<a name="newFloatFmt(float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newFloatFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newFloatFmt(float&nbsp;f)</pre>
<div class="block">创建一个float类型的Fmt对象，并存入一个float值。此后可通过 getFloat()方法读取存储的值</div>
</li>
</ul>
<a name="newDoubleFmt(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newDoubleFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newDoubleFmt(double&nbsp;d)</pre>
<div class="block">创建一个double类型的Fmt对象，并存入一个double值。此后可通过 getDouble()方法读取存储的值</div>
</li>
</ul>
<a name="newDatetimeFmt(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newDatetimeFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newDatetimeFmt(long&nbsp;millis)</pre>
<div class="block">创建一个日期时间类型的Fmt对象，并存入一个日期时间值。此后可通过 getDatetime()方法读取存储的日期时间值。
 注意：本方法的参数单位是毫秒(ms)，即据UTC 1970-1-1 00:00:00的毫秒数，<code>System.currentTimeMillis()</code>。
 但是 getDatetime() 方法返回的的日期时间值是以秒为单位的。（此处接收毫秒单位的参数，主要是为了方便Java调用。）</div>
</li>
</ul>
<a name="newBinaryFmt(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBinaryFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newBinaryFmt(byte[]&nbsp;data)</pre>
<div class="block">创建一个二进制数据流类型的Fmt对象，并存入一个byte[]值。此后可通过 getBinary()方法读取存储的值</div>
</li>
</ul>
<a name="newStringFmt(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStringFmt</h4>
<pre>public static&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;newStringFmt(java.lang.String&nbsp;str)</pre>
<div class="block">创建一个文本类型的Fmt对象，并存入一个String值。此后可通过 getString()方法读取存储的值。
 注意，此方法创建的Fmt对象本质上仍然是二进制数据流类型（getType()==FmtType.PDT_STRING）。</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../com/tianxunnet/fmt/Fmt.html#getString()"><code>getString()</code></a></dd></dl>
</li>
</ul>
<a name="addField(java.lang.String, com.tianxunnet.fmt.Fmt)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(java.lang.String&nbsp;name,
            <a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;field)</pre>
<div class="block">为“对象类型的Fmt对象”添加命名成员。成员名称不能重复，成员值类型不限。
 调用本方法前需保证 getType() == FmtType.PDT_OBJECT。</div>
</li>
</ul>
<a name="addByteField(java.lang.String, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addByteField</h4>
<pre>public&nbsp;void&nbsp;addByteField(java.lang.String&nbsp;name,
                byte&nbsp;b)</pre>
<div class="block">添加byte类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addShortField(java.lang.String, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addShortField</h4>
<pre>public&nbsp;void&nbsp;addShortField(java.lang.String&nbsp;name,
                 short&nbsp;value)</pre>
<div class="block">添加short类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addIntField(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addIntField</h4>
<pre>public&nbsp;void&nbsp;addIntField(java.lang.String&nbsp;name,
               int&nbsp;value)</pre>
<div class="block">添加int类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addLongField(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLongField</h4>
<pre>public&nbsp;void&nbsp;addLongField(java.lang.String&nbsp;name,
                long&nbsp;value)</pre>
<div class="block">添加long类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addDoubleField(java.lang.String, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDoubleField</h4>
<pre>public&nbsp;void&nbsp;addDoubleField(java.lang.String&nbsp;name,
                  double&nbsp;value)</pre>
<div class="block">添加double类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addDatetimeField(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDatetimeField</h4>
<pre>public&nbsp;void&nbsp;addDatetimeField(java.lang.String&nbsp;name,
                    long&nbsp;millis)</pre>
<div class="block">添加日期时间类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addBinaryField(java.lang.String, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBinaryField</h4>
<pre>public&nbsp;void&nbsp;addBinaryField(java.lang.String&nbsp;name,
                  byte[]&nbsp;value)</pre>
<div class="block">添加二进制数据流类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="addStringField(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStringField</h4>
<pre>public&nbsp;void&nbsp;addStringField(java.lang.String&nbsp;name,
                  java.lang.String&nbsp;value)</pre>
<div class="block">添加文本类型的对象成员，参见 addField()</div>
</li>
</ul>
<a name="delField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delField</h4>
<pre>public&nbsp;void&nbsp;delField(java.lang.String&nbsp;name)</pre>
<div class="block">删除“对象类型的Fmt对象”指定名称的成员。调用本方法前需保证 getType()==FmtType.PDT_OBJECT。</div>
</li>
</ul>
<a name="getField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getField</h4>
<pre>public&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;getField(java.lang.String&nbsp;name)</pre>
<div class="block">取“对象类型的Fmt对象”指定名称的成员值。调用本方法前需保证 getType()==FmtType.PDT_OBJECT。</div>
</li>
</ul>
<a name="getFieldCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFieldCount</h4>
<pre>public&nbsp;int&nbsp;getFieldCount()</pre>
<div class="block">取“对象类型的Fmt对象”所有成员的个数。调用本方法前需保证 getType()==FmtType.PDT_OBJECT。</div>
</li>
</ul>
<a name="arrayLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>arrayLength</h4>
<pre>public&nbsp;int&nbsp;arrayLength()</pre>
<div class="block">取“数组类型的Fmt对象”内所有数组成员的个数。调用本方法前需保证 getType()==FmtType.PDT_ARRAY。</div>
</li>
</ul>
<a name="arrayAppend(com.tianxunnet.fmt.Fmt)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>arrayAppend</h4>
<pre>public&nbsp;void&nbsp;arrayAppend(<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;element)</pre>
<div class="block">向“数组类型的Fmt对象”的末尾添加一个成员。调用本方法前需保证 getType()==FmtType.PDT_ARRAY。</div>
</li>
</ul>
<a name="arrayRemove(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>arrayRemove</h4>
<pre>public&nbsp;void&nbsp;arrayRemove(int&nbsp;index)</pre>
<div class="block">删除“数组类型的Fmt对象”指定索引处的一个成员。索引必须是有效值（0开始）。调用本方法前需保证 getType()==FmtType.PDT_ARRAY。</div>
</li>
</ul>
<a name="arrayAt(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>arrayAt</h4>
<pre>public&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;arrayAt(int&nbsp;index)</pre>
<div class="block">取“数组类型的Fmt对象”指定索引处的一个成员的值。索引必须是有效值（0开始）。调用本方法前需保证 getType()==FmtType.PDT_ARRAY。</div>
</li>
</ul>
<a name="incRef()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incRef</h4>
<pre>public&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;incRef()</pre>
<div class="block">增加此 Fmt 对象的引用计数，并返回该对象自身。更多有关Fmt引用计数的细节，请参考 README.md。</div>
</li>
</ul>
<a name="decRef()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decRef</h4>
<pre>public&nbsp;void&nbsp;decRef()</pre>
<div class="block">减小此 Fmt 对象的引用计数。当其引用计数为 0 时，该对象将被自动删除，此后不允许继续使用。
 严格来说，当引用计数为 0 时删除的是Fmt对象背后的C语言概念里的Fmt对象，Java概念里的Fmt交给GC处理。</div>
</li>
</ul>
<a name="getType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public&nbsp;int&nbsp;getType()</pre>
<div class="block">返回一个 int 值用于指定当前 Fmt 对象的类型，返回值是  FmtType.PDT_xxx 其中之一， <a href="../../../com/tianxunnet/fmt/FmtType.html" title="com.tianxunnet.fmt中的类"><code>FmtType</code></a>。
 必须依据此类型调用相应的方法操作Fmt对象，例如：只有 getType()==FmtType.PDT_BYTE 的情况下才能调用 getByte()。</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../com/tianxunnet/fmt/FmtType.html" title="com.tianxunnet.fmt中的类"><code>FmtType</code></a></dd></dl>
</li>
</ul>
<a name="getByte()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByte</h4>
<pre>public&nbsp;byte&nbsp;getByte()</pre>
<div class="block">返回“类型为byte的Fmt对象”内存储的byte值。调用本方法前必须保证 getType()==FmtType.PDT_BYTE。</div>
</li>
</ul>
<a name="getShort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShort</h4>
<pre>public&nbsp;short&nbsp;getShort()</pre>
<div class="block">返回“类型为short的Fmt对象”内存储的short值。调用本方法前必须保证 getType()==FmtType.PDT_SHORT。</div>
</li>
</ul>
<a name="getInt()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInt</h4>
<pre>public&nbsp;int&nbsp;getInt()</pre>
<div class="block">返回“类型为int的Fmt对象”内存储的int值。调用本方法前必须保证 getType()==FmtType.PDT_INT。</div>
</li>
</ul>
<a name="getLong()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLong</h4>
<pre>public&nbsp;long&nbsp;getLong()</pre>
<div class="block">返回“类型为long的Fmt对象”内存储的long值。调用本方法前必须保证 getType()==FmtType.PDT_LONG。</div>
</li>
</ul>
<a name="getFloat()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFloat</h4>
<pre>public&nbsp;float&nbsp;getFloat()</pre>
<div class="block">返回“类型为double的Fmt对象”内存储的float值。调用本方法前必须保证 getType()==FmtType.PDT_DOUBLE。</div>
</li>
</ul>
<a name="getDouble()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDouble</h4>
<pre>public&nbsp;double&nbsp;getDouble()</pre>
<div class="block">返回“类型为double的Fmt对象”内存储的double值。调用本方法前必须保证 getType()==FmtType.PDT_DOUBLE。</div>
</li>
</ul>
<a name="getDatetime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatetime</h4>
<pre>public&nbsp;long&nbsp;getDatetime()</pre>
<div class="block">返回“类型为日期时间的Fmt对象”内存储的日期时间值。调用本方法前必须保证 getType()==FmtType.PDT_DATETIME。
 返回值是距 UTC 1970-1-1 00:00:00 的秒数（单位是秒）。</div>
</li>
</ul>
<a name="getBinary()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBinary</h4>
<pre>public&nbsp;byte[]&nbsp;getBinary()</pre>
<div class="block">返回“类型为二进制数据流的Fmt对象”内存储的byte[]值。调用本方法前必须保证 getType()==FmtType.PDT_STRING。</div>
</li>
</ul>
<a name="getBinaryLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBinaryLength</h4>
<pre>public&nbsp;int&nbsp;getBinaryLength()</pre>
<div class="block">返回“类型为二进制数据流的Fmt对象”内存储的数据长度（字节数）。调用本方法前必须保证 getType()==FmtType.PDT_STRING。</div>
</li>
</ul>
<a name="getString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getString</h4>
<pre>public&nbsp;java.lang.String&nbsp;getString()</pre>
<div class="block">返回“类型为文本的Fmt对象”内存储的String值。调用本方法前必须保证 getType()==FmtType.PDT_STRING。</div>
</li>
</ul>
<a name="packet(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>packet</h4>
<pre>public&nbsp;byte[]&nbsp;packet(int&nbsp;cmd,
            int&nbsp;userid)</pre>
<div class="block">把此 Fmt 对象，和协议编号cmd一起，打包为一段二进制数据流，用于网络传输（通过Socket）。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>cmd</code> - 可以是 ProtocolCmd.PT_xxx 系列值之一, @see ProtocolCmd。此参数的取值与协议约定有关。</dd><dd><code>userid</code> - 必须是0，此参数目前未被使用。</dd>
<dt><span class="strong">返回:</span></dt><dd>返回打包后的二进制数据流</dd></dl>
</li>
</ul>
<a name="serverPacket(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverPacket</h4>
<pre>public&nbsp;byte[]&nbsp;serverPacket(int&nbsp;cmd)</pre>
<div class="block">功能类似于 packet()，但此方法是针对服务器的版本，即“调用方充当服务器身份”的情况。</div>
</li>
</ul>
<a name="quickSerialize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quickSerialize</h4>
<pre>public&nbsp;byte[]&nbsp;quickSerialize()</pre>
<div class="block">快速序列化 Fmt 对象</div>
</li>
</ul>
<a name="quickParse(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>quickParse</h4>
<pre>public&nbsp;<a href="../../../com/tianxunnet/fmt/Fmt.html" title="com.tianxunnet.fmt中的类">Fmt</a>&nbsp;quickParse(byte[]&nbsp;data)</pre>
<div class="block">快速解析 Fmt 对象</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../com/tianxunnet/fmt/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../com/tianxunnet/fmt/FmtParser.html" title="com.tianxunnet.fmt中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tianxunnet/fmt/Fmt.html" target="_top">框架</a></li>
<li><a href="Fmt.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
